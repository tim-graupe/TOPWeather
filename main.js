(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{n5:()=>f,R5:()=>w,c5:()=>C,Fn:()=>E});const t=document.getElementById("display-current-conditions");function n(e,n,a,o,i,c,d){t.textContent="";const m=document.createElement("div");m.textContent="feels like: "+Math.round(10*e)/10,t.appendChild(m);const r=document.createElement("div");r.textContent=`humidity: ${n}%`,t.appendChild(r);const p=document.createElement("div"),s=new Date(1e3*a).toTimeString().substring(0,5);p.textContent=`Sunrise: ${s}`,t.appendChild(p);const l=document.createElement("div"),u=new Date(1e3*o).toTimeString().substring(0,5);l.textContent=`Sunset: ${u}`,t.appendChild(l);const h=document.createElement("div");h.textContent=i,t.appendChild(h);const f=document.createElement("div");f.textContent=`wind speed: ${c}`,t.appendChild(f);const g=document.createElement("img");g.src=d,h.appendChild(g)}function a(e,t){const n=Math.round(10*e)/10;C.textContent=`${n}F`,w.textContent=t}function o(e,t){const n=Math.round(10*e)/10;C.textContent=`${n}C`,w.textContent=t}const i=document.getElementById("display-forecast");function c(e,t,n,a,o,c,d,m,r){const p=document.createElement("div"),s=document.createElement("div");s.className="forecast-card",p.className="forecast-card-inner";const l=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),f=document.createElement("img");l.textContent=e,h.textContent=t,u.textContent=n,f.src=a,u.appendChild(l),u.appendChild(h),u.appendChild(f),u.className="forecast-card-front";const g=document.createElement("div");g.className="forecast-card-back";const y=document.createElement("div");y.textContent=o,g.appendChild(y);const C=document.createElement("div");C.textContent=c,g.appendChild(C);const w=document.createElement("div");w.textContent=d,g.appendChild(w);const E=document.createElement("div");E.textContent=`Humidity: ${m}%`,g.appendChild(E);const x=document.createElement("div");x.textContent=`Chance of precipitation: ${r}%`,g.appendChild(x),p.appendChild(u),p.appendChild(g),s.appendChild(p),i.appendChild(s)}const d=document.getElementById("display-forecast"),m=document.getElementById("week-header");function r(e){m.textContent="The Week Ahead",fetch(`http://api.openweathermap.org/data/2.5/forecast?q=${f.value},us&units=${e}&appid=f4c2e88d89f530a5c961cffa302dc0b9`,{mode:"cors"}).then((function(e){return e.json()})).then((function(t){fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t.city.coord.lat}&lon=${t.city.coord.lon}&units=${e}&exclude=hourly,minutely&appid=f4c2e88d89f530a5c961cffa302dc0b9`,{mode:"cors"}).then((function(e){return e.json()})).then((function(t){let n=[],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let e=0;e<t.daily.length-1;e++)n.push(t.daily[e]);const o=n.map((t=>"imperial"==e?Math.round(10*t.temp.max)/10+"F":Math.round(10*t.temp.max)/10+"C")),i=n.map((t=>"imperial"==e?Math.round(10*t.temp.min)/10+"F":Math.round(10*t.temp.min)/10+"C")),d=n.map((e=>{let t=new Date(1e3*e.dt);return a[t.getDay()]})),m=n.map((e=>`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`)),r=n.map((e=>e.weather[0].description)),p=n.map((e=>new Date(1e3*e.sunrise).toTimeString().substring(0,5))),s=n.map((e=>new Date(1e3*e.sunset).toTimeString().substring(0,5))),l=n.map((e=>e.humidity)),u=n.map((e=>100*e.pop));for(let e=0;e<o.length;e++)c(o[e],i[e],d[e],m[e],r[e],p[e],s[e],l[e],u[e])}))}))}async function p(e){const t=f.value;isNaN(t)?(d.textContent="",E.textContent="",async function(e){const t=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${f.value}&units=${e}&appid=f4c2e88d89f530a5c961cffa302dc0b9`,{mode:"cors"}).catch((function(e){console.log(e)})),i=await t.json();"imperial"==e?(a(i.main.temp,i.name),n(i.main.feels_like,i.main.humidity,i.sys.sunrise,i.sys.sunset,i.weather[0].description,i.wind.speed,`http://openweathermap.org/img/wn/${i.weather[0].icon}@2x.png`),console.log(i)):(o(i.main.temp,i.name),n(i.main.feels_like,i.main.humidity,i.sys.sunrise,i.sys.sunset,i.weather[0].description,i.wind.speed,`http://openweathermap.org/img/wn/${i.weather[0].icon}@2x.png`))}(e)):isNaN(t)||(d.textContent="",E.textContent="",async function(e){const t=await fetch(`http://api.openweathermap.org/data/2.5/weather?zip=${f.value},us&units=${e}&appid=f4c2e88d89f530a5c961cffa302dc0b9`,{mode:"cors"}).catch((function(e){console.log(e)})),i=await t.json();"imperial"==e?a(i.main.temp,i.name):o(i.main.temp,i.name),n(i.main.feels_like,i.main.humidity,i.sys.sunrise,i.sys.sunset,i.weather[0].description,i.wind.speed,`http://openweathermap.org/img/wn/${i.weather[0].icon}@2x.png`)}(e))}const s=document.getElementById("display-hourly");function l(e,t,n){const a=document.createElement("div"),o=document.createElement("div"),i=document.createElement("img");a.textContent=e,o.textContent=t,i.src=n,a.appendChild(o),s.appendChild(a),a.appendChild(i),s.className="hourly-card"}function u(e){fetch(`http://api.openweathermap.org/data/2.5/forecast?q=${f.value},us&units=${e}&appid=f4c2e88d89f530a5c961cffa302dc0b9`,{mode:"cors"}).then((function(e){return e.json()})).then((function(t){fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t.city.coord.lat}&lon=${t.city.coord.lon}&units=${e}&exclude=daily,minutely&appid=f4c2e88d89f530a5c961cffa302dc0b9`,{mode:"cors"}).then((function(e){return e.json()})).then((function(t){let n=[];for(let e=0;e<t.hourly.length-36;e++)n.push(t.hourly[e]);const a=n.map((t=>"imperial"==e?Math.round(10*t.temp)/10+"F":Math.round(10*t.temp)/10+"C")),o=n.map((e=>new Date(1e3*e.dt).toTimeString().substring(0,5))),i=n.map((e=>`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`));for(let e=0;e<a.length;e++)l(o[e],a[e],i[e])}))}))}const h=document.getElementById("submit-btn"),f=document.getElementById("city-input"),g=document.getElementById("change-to-C"),y=document.getElementById("change-to-F"),C=document.getElementById("display-temp"),w=document.getElementById("display-city-name"),E=document.getElementById("display-hourly");g.addEventListener("click",(()=>{p("metric"),r("metric"),u("metric")})),y.addEventListener("click",(()=>{p("imperial"),r("imperial"),u("imperial"),console.log("hi")})),h.addEventListener("click",(()=>{p("imperial"),r("imperial"),u("imperial")})),f.addEventListener("keypress",(e=>{"Enter"===e.key&&(p("imperial"),r("imperial"),u("imperial"))}))})();